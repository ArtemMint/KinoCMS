{% extends 'admin_panel/base.html' %}
{% load static %}

{% block title %}AdminLTE | News «{{ news.name }}»{% endblock title %}



{% block breadcrumb %}
    <li class="breadcrumb-item"><a href="{% url 'admin_statistics' %}">Home</a></li>
    <li class="breadcrumb-item active"><a href="{% url 'admin_news' %}">News</a></li>
    <li class="breadcrumb-item active">«{{ news.name }}»</li>
{% endblock breadcrumb %}


{% block content %}
<div class="card">
    <div class="card-header border-transparent">
    <h3 class="card-title">News detail</h3>
        <div class="card-tools">
            <button type="button" class="btn btn-tool" data-card-widget="collapse">
                <i class="fas fa-minus"></i>
            </button>
            <button type="button" class="btn btn-tool" data-card-widget="remove">
                <i class="fas fa-times"></i>
            </button>
        </div>
    </div>
    <!-- /.card-header -->
    <div class="box box-solid">
        <div class="box-header with-border">
            <h3 class="box-title">«{{ news.name }}»</h3>
        </div>
        <!-- /.box-header -->
        <div class="box-body">
            <img src="{{ news.preview.url }}" alt="{{ news.preview }}" style="width: 600px;"></br>
            <hr>
            <dl class="dl-horizontal">
                <dt>Description:</dt>
                <dd>{{ news.description|linebreaks }}</dd>
                <dt>Published:</dt>
                <dd>{{ news.pub_date }}</dd>
            </dl>
        </div>
        <!-- /.box-body -->
    </div>
    <div class="card-body p-0">
        <div class="card-body">
            <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
            <ol class="carousel-indicators">
                {% comment %} DYNAMIC CAROUSEL BOTTOM INDICATOR {% endcomment %}
                {% for image in image_list %}
                    {% if forloop.counter0|divisibleby:"1" %}
                        <li data-target="#carouselExampleIndicators" data-slide-to="{{forloop}}" {% if forloop.first %} class="active" {% endif %}></li>
                    {% endif %}
                {% endfor %}
            </ol>
            
            {% comment %} DYNAMIC SLIDER {% endcomment %}
            <div class="carousel-inner" role="listbox" style=" width:100%; height: 500px !important;">
                {% for image in image_list %}
                    {% if forloop.counter0|divisibleby:"1" %}
                        <div class="carousel-item {% if forloop.first %} active {% endif %}"> 
                            <div class="row">{% endif %}
                                <img class="d-block w-100" src="{{image.image.url}}" alt="{{image.image1}}">
                                {% if forloop.counter0|divisibleby:"1" %}
                            </div>
                        </div>
                    {% endif %}
                {% endfor %}
            </div>

            <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
                <span class="carousel-control-custom-icon" aria-hidden="true">
                <i class="fas fa-chevron-left"></i>
                </span>
                <span class="sr-only">Previous</span>
            </a>

            <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
                <span class="carousel-control-custom-icon" aria-hidden="true">
                <i class="fas fa-chevron-right"></i>
                </span>
                <span class="sr-only">Next</span>
            </a>
        </div>
    </div>
    <!-- /.card-body -->
        
    <!-- /.card-body -->
    <div class="card-footer clearfix">
        <a href="{% url 'admin_update_news' news.id %}" class="btn btn-sm btn-info float-left">Edit news</a>
        <a href="{% url 'admin_delete_news' news.id %}" class="btn btn-sm btn-secondary float-right">Delete news</a>
    </div>
    <!-- /.card-footer -->
</div>

{% endblock content %}

