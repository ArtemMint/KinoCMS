{% extends 'kino/base.html' %}
{% load static %}

{% block title %}
    <title>{{news.seo_title}}</title>
{% endblock title %}

{% block content %}
<div class="card container" style="min-width: 180vh !important;">
    <br>
    <div class="row" style="min-height: 70vh;">
        <div class="col-md-10">
            <div class="row">
                <div class="col-md-4">
                    <img src="{{ news.preview.url }}" alt="{{ news.preview }}"  width="100%"  style="height:35vh;"></br>
                </div>
                <div class="col-md-8">
                    <dl class="dl-horizontal">
                        <div class="box-header with-border">
                            <h3 class="box-title text-center">«{{ news.name }}»</h3>
                        </div>
                        <dt>Date:</dt>
                        <dd>{{ news.pub_date }}</dd>
                        <dt>Description:</dt>
                        <dd>{{ news.description }}</dd>
                    </dl>
                </div>
            </div>
            <hr>
            <div id="carouselExampleIndicators" class="carousel slide" data-bs-ride="carousel"> 
                <ol class="carousel-indicators">
                    {% comment %} DYNAMIC CAROUSEL BOTTOM INDICATOR {% endcomment %}
                    {% for image in gallery %}
                        {% if forloop.counter0|divisibleby:"1" %}
                            <li data-bs-target="#carouselExampleIndicators" data-bs-slide-to="{{forloop}}"{% if forloop.first %} class="active" {% endif %}></li>
                        {% endif %}
                    {% endfor %}
                </ol>
                <h3 class="text-center">Gallery</h3>
                <div class="carousel-inner">
                    {% for image in gallery %}
                        {% if forloop.counter0|divisibleby:"1" %}
                            <div class="carousel-item {% if forloop.first %} active {% endif %}"> 
                                <div class="row">{% endif %}
                                    <a href="{{ image.url }}#"><img class="d-block w-100" src="{{image.image.url}}" alt="{{image.image1}}" style="height: 90vh !important;"></a>
                                    {% if forloop.counter0|divisibleby:"1" %}
                                    <div class="carousel-caption d-none d-md-block">
                                        <h5>{{image.text}}</h5>
                                    </div>
                                </div>
                            </div>
                        {% endif %}
                    {% endfor %}
                </div>
            
                <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-bs-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Previous</span>
                </a>

                <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-bs-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Next</span>
                </a>
            </div>
            <br>
        </div>
        <div class="col-md-2">
            <div class="text-center">
                <a href="{{ads.url}}"><img src="{{ads.image.url}}" class="img-fluid" alt="{{ads.image}}" width="100%" style="max-height:50vh;"></a>
            </div>
        </div>
    </div>
</div>
{% endblock content %}
